<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Snack Packz — Pick your pack</title>
<meta name="theme-color" content="#07100a"/>

<style>
  :root{
    --txt:#f5fff6;
    --mut:rgba(245,255,246,.72);
    --mut2:rgba(245,255,246,.55);

    --glass:rgba(8,16,10,.34);
    --glass2:rgba(8,16,10,.18);
    --stroke:rgba(255,255,255,.14);

    --g1:#79ffb4;  /* neon mint */
    --g2:#7ad7ff;  /* sky */
    --g3:#c8ff6a;  /* spring */
    --g4:#ffd36a;  /* sun */
    --g5:#b1a2ff;  /* twilight */

    --shadow: 0 40px 160px rgba(0,0,0,.70);
    --r:26px;

    --stageW:min(1280px, 94vw);
    --heroH:min(820px, 86vh);

    --orb:min(56vmin, 620px);
    --ringR: 250px;

    --shine: linear-gradient(115deg,
      transparent 0%,
      rgba(255,255,255,.12) 18%,
      rgba(122,215,255,.16) 30%,
      rgba(121,255,180,.16) 46%,
      rgba(255,255,255,.08) 58%,
      transparent 74%,
      transparent 100%);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color:var(--txt);
    background:#010402;
    overflow:hidden;
  }

  /* ======= REAL FOOTAGE BACKGROUND (your forest.mp4) ======= */
  .bg{
    position:fixed; inset:0; z-index:0;
    overflow:hidden;
    background:#000;
  }
  .bg video{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit:cover;
    transform: scale(1.02); /* tiny scale = more cinematic */
    filter:
      contrast(1.05)
      saturate(1.10)
      brightness(1.02);
  }

  /* cinematic grade + depth */
  .grade{
    position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(1200px 760px at 50% 18%, rgba(255,230,170,.12), transparent 60%),
      radial-gradient(1000px 720px at 68% 28%, rgba(121,255,180,.10), transparent 62%),
      radial-gradient(1100px 800px at 28% 34%, rgba(122,215,255,.08), transparent 66%),
      linear-gradient(180deg, rgba(0,0,0,.40), rgba(0,0,0,.58));
    mix-blend-mode: screen;
    opacity:.70;
  }
  .vignette{
    position:absolute; inset:0; pointer-events:none;
    background: radial-gradient(120% 92% at 50% 40%, transparent 44%, rgba(0,0,0,.70) 88%);
    opacity:.72;
  }

  /* ======= “alive” layers ======= */
  /* Sun shafts (subtle, premium) */
  .shafts{
    position:absolute; inset:-20% -20%;
    pointer-events:none;
    background:
      linear-gradient(110deg, transparent 30%, rgba(255,255,255,.08) 38%, transparent 46%),
      linear-gradient(116deg, transparent 38%, rgba(255,230,170,.07) 46%, transparent 54%),
      linear-gradient(102deg, transparent 44%, rgba(122,215,255,.05) 52%, transparent 60%);
    filter: blur(10px);
    opacity:.0;
    animation: shafts 8.5s ease-in-out infinite;
    mix-blend-mode: screen;
  }
  @keyframes shafts{
    0%{transform: translate3d(-2%, -1%, 0) rotate(0.4deg); opacity:.08}
    50%{transform: translate3d(2.5%, 1.3%, 0) rotate(-0.2deg); opacity:.14}
    100%{transform: translate3d(-1.5%, .6%, 0) rotate(0.2deg); opacity:.09}
  }

  /* Foreground leaf silhouettes (parallax + wind) */
  .fgLeaves{
    position:absolute; inset:-6%;
    pointer-events:none;
    background:
      radial-gradient(70px 90px at 12% 20%, rgba(0,0,0,.24), transparent 70%),
      radial-gradient(110px 140px at 18% 28%, rgba(0,0,0,.22), transparent 70%),
      radial-gradient(90px 120px at 84% 18%, rgba(0,0,0,.22), transparent 70%),
      radial-gradient(140px 180px at 90% 26%, rgba(0,0,0,.20), transparent 70%),
      radial-gradient(120px 160px at 74% 86%, rgba(0,0,0,.24), transparent 72%),
      radial-gradient(150px 200px at 10% 86%, rgba(0,0,0,.26), transparent 72%);
    filter: blur(10px);
    opacity:.55;
    transform: translateZ(0);
    animation: wind 6.2s ease-in-out infinite alternate;
  }
  @keyframes wind{
    from{transform: translate3d(-0.7%, -0.3%, 0) rotate(0.15deg)}
    to{transform: translate3d(0.9%, 0.4%, 0) rotate(-0.12deg)}
  }

  /* Pollen/dust particles (canvas) */
  canvas#dust{
    position:absolute; inset:0;
    pointer-events:none;
    opacity:.55;
    mix-blend-mode: screen;
  }

  /* Film grain */
  .grain{
    position:absolute; inset:0; pointer-events:none;
    background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
    opacity:.06;
    mix-blend-mode: overlay;
  }

  /* ======= UI LAYOUT ======= */
  .wrap{
    position:relative;
    z-index:10;
    width:var(--stageW);
    margin: 92px auto 0;
    height: var(--heroH);
    display:grid;
    grid-template-columns: 1.55fr .95fr;
    gap: 18px;
    align-items:stretch;
  }

  /* NAV */
  .nav{
    position:fixed; top:16px; left:50%; transform:translateX(-50%);
    width:var(--stageW);
    z-index:40;
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 12px;
    border-radius:999px;
    background:rgba(0,0,0,.18);
    border:1px solid rgba(255,255,255,.14);
    backdrop-filter: blur(18px) saturate(140%);
    -webkit-backdrop-filter: blur(18px) saturate(140%);
    box-shadow: 0 18px 100px rgba(0,0,0,.42);
    overflow:hidden;
  }
  .nav:after{
    content:""; position:absolute; inset:-50% -70%;
    background: var(--shine);
    opacity:.0;
    transform: translateX(-35%);
    animation: navShine 7.2s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes navShine{
    0%,35%{opacity:0; transform:translateX(-35%)}
    52%{opacity:.55}
    70%{opacity:0; transform:translateX(35%)}
    100%{opacity:0; transform:translateX(35%)}
  }

  .brand{display:flex;align-items:center;gap:10px;min-width:0; position:relative; z-index:1}
  .logo{
    width:34px;height:34px;border-radius:12px;
    background:
      radial-gradient(14px 14px at 28% 28%, rgba(255,255,255,.30), transparent 62%),
      radial-gradient(16px 16px at 70% 70%, rgba(121,255,180,.18), transparent 65%),
      linear-gradient(135deg, rgba(121,255,180,.20), rgba(122,215,255,.12));
    border:1px solid rgba(255,255,255,.14);
    box-shadow: 0 12px 34px rgba(0,0,0,.35);
  }
  .brandTxt{display:flex;flex-direction:column;line-height:1.1}
  .brandTxt b{font-size:14px;letter-spacing:.2px}
  .brandTxt span{font-size:12px;color:var(--mut)}

  .links{display:flex;gap:18px;color:var(--mut);font-size:13px; position:relative; z-index:1}
  .links a{padding:8px 10px;border-radius:999px; text-decoration:none; color:inherit}
  .links a:hover{background:rgba(255,255,255,.06)}
  .navRight{display:flex;gap:10px;align-items:center; position:relative; z-index:1}

  .pill{
    display:inline-flex;align-items:center;gap:8px;
    padding:8px 12px;border-radius:999px;
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.12);
    color:var(--txt); font-size:13px;
    user-select:none;
    position:relative;
    overflow:hidden;
    transform: translateZ(0);
    text-decoration:none;
  }
  .pill .dot{
    width:8px;height:8px;border-radius:999px;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,255,255,.1));
    box-shadow: 0 0 0 3px rgba(121,255,180,.18);
  }
  .pill:hover{background:rgba(255,255,255,.08)}
  .pill:before{
    content:"";
    position:absolute; inset:-60% -80%;
    background: var(--shine);
    opacity:0;
    transform: translateX(-30%);
    transition: opacity .18s ease;
    pointer-events:none;
  }
  .pill:hover:before{opacity:.55; animation: microShine 1.1s ease}
  @keyframes microShine{from{transform:translateX(-30%)}to{transform:translateX(30%)}}

  /* LEFT: HERO / ORB */
  .panel{
    border-radius: var(--r);
    background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.14);
    box-shadow: var(--shadow);
    backdrop-filter: blur(18px) saturate(140%);
    -webkit-backdrop-filter: blur(18px) saturate(140%);
    overflow:hidden;
    position:relative;
  }
  .panel:before{
    content:"";
    position:absolute; inset:-40% -60%;
    background: var(--shine);
    opacity:.0;
    transform: translateX(-35%);
    animation: heroShine 9.4s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes heroShine{
    0%,38%{opacity:0; transform:translateX(-35%)}
    55%{opacity:.45}
    76%{opacity:0; transform:translateX(35%)}
    100%{opacity:0; transform:translateX(35%)}
  }

  .heroInner{
    position:absolute; inset:0;
    padding: 22px 24px 18px;
    display:flex;
    flex-direction:column;
    gap: 14px;
  }

  .badge{
    align-self:flex-start;
    display:inline-flex; gap:10px; align-items:center;
    padding:10px 12px;
    border-radius:999px;
    background:rgba(0,0,0,.18);
    border:1px solid rgba(255,255,255,.14);
    color:var(--mut);
    font-size:12px;
  }
  .badge .mini{
    width:10px;height:10px;border-radius:999px;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.12));
    box-shadow:
      0 0 0 4px rgba(121,255,180,.14),
      0 0 22px rgba(121,255,180,.22);
  }

  h1{
    margin: 2px 0 0;
    font-size: clamp(34px, 4.2vw, 56px);
    line-height: 1.02;
    letter-spacing: -0.02em;
  }
  h1 .accent{
    color: rgba(121,255,180,.92);
    text-shadow: 0 0 40px rgba(121,255,180,.14);
  }
  .sub{
    margin:0;
    color: var(--mut);
    max-width: 64ch;
    font-size: 14px;
    line-height: 1.55;
  }

  .ctaRow{
    display:flex; gap:10px; flex-wrap:wrap;
    margin-top: 6px;
  }
  .btn{
    border:1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.22);
    color: var(--txt);
    padding: 10px 14px;
    border-radius: 999px;
    font-size: 13px;
    display:inline-flex;
    gap:10px;
    align-items:center;
    text-decoration:none;
    user-select:none;
  }
  .btn:hover{background: rgba(255,255,255,.06)}
  .btn.primary{
    background: linear-gradient(135deg, rgba(121,255,180,.18), rgba(122,215,255,.12));
    border-color: rgba(121,255,180,.20);
  }

  .stats{
    margin-top:auto;
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
  }
  .stat{
    border-radius: 18px;
    padding: 14px 14px 12px;
    background: rgba(0,0,0,.20);
    border:1px solid rgba(255,255,255,.12);
  }
  .stat b{
    display:block;
    font-size: 22px;
    letter-spacing:-.02em;
  }
  .stat span{
    display:block;
    margin-top: 6px;
    font-size: 12px;
    color: var(--mut2);
    line-height:1.35;
  }

  /* ======= ORB / PACKS ======= */
  .orbStage{
    position:absolute;
    left: 50%;
    top: 56%;
    transform: translate(-50%, -50%);
    width: var(--orb);
    height: var(--orb);
    max-width: 640px;
    max-height: 640px;
    pointer-events:auto;
    touch-action: none;
  }

  .orb3d{
    position:absolute; inset:0;
    border-radius: 50%;
    background:
      radial-gradient(40% 40% at 30% 30%, rgba(255,255,255,.22), transparent 55%),
      radial-gradient(60% 70% at 60% 70%, rgba(121,255,180,.14), transparent 62%),
      radial-gradient(80% 80% at 50% 50%, rgba(0,0,0,.10), rgba(0,0,0,.55));
    box-shadow:
      inset 0 0 0 1px rgba(255,255,255,.10),
      inset 0 0 90px rgba(0,0,0,.45),
      0 28px 110px rgba(0,0,0,.55);
    transform: translateZ(0);
  }

  /* “globe shimmer” */
  .orb3d:after{
    content:"";
    position:absolute; inset:-2%;
    border-radius: 50%;
    background:
      radial-gradient(50% 40% at 40% 20%, rgba(255,255,255,.14), transparent 62%),
      radial-gradient(60% 60% at 60% 75%, rgba(122,215,255,.10), transparent 65%);
    filter: blur(0.2px);
    opacity:.92;
    animation: orbBreath 4.6s ease-in-out infinite alternate;
    pointer-events:none;
  }
  @keyframes orbBreath{
    from{transform: scale(1.0); opacity:.78}
    to{transform: scale(1.015); opacity:.92}
  }

  /* ring guide */
  .ringGuide{
    position:absolute; inset: 9%;
    border-radius:50%;
    border:1px solid rgba(255,255,255,.10);
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.35);
    pointer-events:none;
  }

  /* prompt */
  .hint{
    position:absolute;
    left:50%;
    top: 7%;
    transform: translateX(-50%);
    font-size: 12px;
    color: var(--mut);
    background: rgba(0,0,0,.22);
    border:1px solid rgba(255,255,255,.14);
    border-radius:999px;
    padding: 10px 12px;
    display:flex; align-items:center; gap:10px;
    backdrop-filter: blur(16px) saturate(140%);
  }
  .hint i{
    width:10px;height:10px;border-radius:999px;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.12));
    box-shadow: 0 0 0 4px rgba(122,215,255,.14), 0 0 26px rgba(122,215,255,.14);
  }

  /* Packs container */
  .packs{
    position:absolute; inset:0;
    transform: translateZ(0);
  }

  .pack{
    position:absolute;
    left:50%; top:50%;
    transform: translate(-50%,-50%);
    width: 168px;
    height: 58px;
    border-radius: 18px;
    user-select:none;
    cursor:pointer;
    display:flex; align-items:center; justify-content:space-between;
    padding: 10px 12px 10px 10px;
    gap: 10px;

    background:
      radial-gradient(20px 20px at 20% 30%, rgba(255,255,255,.18), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
    border:1px solid rgba(255,255,255,.16);
    box-shadow:
      0 18px 60px rgba(0,0,0,.45),
      inset 0 0 0 1px rgba(0,0,0,.30);
    backdrop-filter: blur(14px) saturate(140%);
    -webkit-backdrop-filter: blur(14px) saturate(140%);
    transition: transform .12s ease, filter .12s ease, opacity .12s ease;
  }

  /* “actual pack” left icon */
  .pack .cap{
    width: 42px; height: 42px;
    border-radius: 14px;
    position:relative;
    background:
      radial-gradient(12px 12px at 30% 30%, rgba(255,255,255,.30), transparent 65%),
      radial-gradient(18px 18px at 65% 70%, rgba(121,255,180,.18), transparent 70%),
      linear-gradient(135deg, rgba(121,255,180,.18), rgba(122,215,255,.12));
    border:1px solid rgba(255,255,255,.14);
    box-shadow: 0 0 0 5px rgba(121,255,180,.10), 0 16px 34px rgba(0,0,0,.40);
    flex:0 0 auto;
  }
  .pack .cap:after{
    content:"";
    position:absolute; inset:-10px;
    border-radius: 18px;
    background: radial-gradient(closest-side, rgba(121,255,180,.20), transparent 72%);
    filter: blur(8px);
    opacity:.65;
    pointer-events:none;
  }

  .pack .txt{
    display:flex; flex-direction:column;
    min-width:0;
  }
  .pack .txt b{
    font-size: 13px;
    letter-spacing:.12em;
    text-transform: uppercase;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .pack .txt span{
    margin-top: 2px;
    font-size: 11px;
    color: var(--mut2);
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .pack .tag{
    font-size: 10px;
    padding: 7px 10px;
    border-radius: 999px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.22);
    color: rgba(245,255,246,.86);
    flex:0 0 auto;
  }

  /* selected “reward” glow */
  .pack.selected{
    border-color: rgba(121,255,180,.28);
    box-shadow:
      0 26px 90px rgba(0,0,0,.52),
      0 0 0 1px rgba(121,255,180,.24),
      0 0 42px rgba(121,255,180,.20),
      inset 0 0 0 1px rgba(0,0,0,.30);
    filter: saturate(1.08);
  }
  .pack:hover{
    filter: saturate(1.06);
  }

  /* 3D feel: scale/opacity set via JS */
  .pack{ will-change: transform, opacity, filter; }

  /* ======= RIGHT: PREVIEW CARD ======= */
  .side{
    border-radius: var(--r);
    background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.14);
    box-shadow: var(--shadow);
    backdrop-filter: blur(18px) saturate(140%);
    -webkit-backdrop-filter: blur(18px) saturate(140%);
    overflow:hidden;
    position:relative;
    display:flex;
    flex-direction:column;
  }
  .sideHead{
    padding: 18px 18px 10px;
    display:flex; align-items:flex-start; justify-content:space-between;
    gap: 10px;
  }
  .sideHead h2{
    margin:0;
    font-size: 18px;
    letter-spacing:.14em;
    text-transform:uppercase;
  }
  .sideHead p{
    margin:6px 0 0;
    color: var(--mut);
    font-size: 12px;
    line-height:1.45;
  }

  .enterBtn{
    margin-left:auto;
    display:inline-flex; align-items:center; gap:8px;
    padding: 10px 12px;
    border-radius:999px;
    background: rgba(0,0,0,.22);
    border:1px solid rgba(255,255,255,.14);
    color: var(--txt);
    font-size: 13px;
    user-select:none;
    cursor:pointer;
    white-space:nowrap;
  }
  .enterBtn .dot{
    width:8px;height:8px;border-radius:999px;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.12));
    box-shadow: 0 0 0 4px rgba(121,255,180,.14);
  }
  .enterBtn:disabled{opacity:.55; cursor:not-allowed}

  .media{
    position:relative;
    margin: 0 18px 14px;
    border-radius: 22px;
    overflow:hidden;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.30);
    height: clamp(380px, 56vh, 640px);
    box-shadow: 0 22px 80px rgba(0,0,0,.55);
  }
  .media img, .media video{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit:cover;
    transform: scale(1.01);
  }
  .media img{ opacity: 1; transition: opacity .25s ease; }
  .media video{
    opacity: 0;
    transition: opacity .45s ease;
  }
  .media.ready video{ opacity: 1; }
  .media.ready img{ opacity: 0; }

  .mediaBadge{
    position:absolute; left:14px; bottom:14px;
    display:flex; gap:10px; align-items:center;
    background: rgba(0,0,0,.30);
    border:1px solid rgba(255,255,255,.14);
    border-radius:999px;
    padding: 10px 12px;
    font-size: 12px;
    color: rgba(245,255,246,.90);
    backdrop-filter: blur(14px) saturate(140%);
  }
  .mediaBadge .mini{
    width:10px;height:10px;border-radius:999px;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.12));
    box-shadow: 0 0 0 4px rgba(122,215,255,.14), 0 0 24px rgba(122,215,255,.12);
  }

  .sideFoot{
    padding: 0 18px 18px;
    margin-top:auto;
    color: var(--mut2);
    font-size: 12px;
    line-height:1.45;
  }

  /* Bottom hint strip */
  .bottomHint{
    position:fixed;
    left:50%;
    bottom: 14px;
    transform: translateX(-50%);
    width: var(--stageW);
    z-index: 30;
    display:flex;
    justify-content:space-between;
    gap: 12px;
    padding: 12px 14px;
    border-radius: 999px;
    background: rgba(0,0,0,.18);
    border:1px solid rgba(255,255,255,.14);
    backdrop-filter: blur(16px) saturate(140%);
    -webkit-backdrop-filter: blur(16px) saturate(140%);
    color: var(--mut);
    font-size: 12px;
  }

  /* Mobile layout */
  @media (max-width: 980px){
    body{overflow:auto}
    .wrap{
      grid-template-columns: 1fr;
      height: auto;
      margin-top: 84px;
      padding-bottom: 86px;
    }
    .media{height: min(64vh, 560px)}
    .bottomHint{position:static; transform:none; width:auto; margin: 10px auto 18px;}
    .nav{width: min(96vw, 980px)}
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce){
    .shafts,.fgLeaves,.panel:before,.nav:after{animation:none !important}
    .pack{transition:none !important}
  }
</style>
</head>

<body>

<!-- Background forest -->
<div class="bg" aria-hidden="true">
  <video id="forestVid" playsinline muted loop preload="auto">
    <source src="./assets/forest.mp4" type="video/mp4" />
  </video>
  <div class="grade"></div>
  <div class="shafts"></div>
  <div class="fgLeaves"></div>
  <canvas id="dust"></canvas>
  <div class="vignette"></div>
  <div class="grain"></div>
</div>

<!-- NAV -->
<header class="nav">
  <div class="brand">
    <div class="logo" aria-hidden="true"></div>
    <div class="brandTxt">
      <b>Snack Packz</b>
      <span>Spin the globe. Pick your pack.</span>
    </div>
  </div>

  <nav class="links" aria-label="Primary">
    <a href="#packs">Packs</a>
    <a href="#how">How it works</a>
    <a href="#order">Order</a>
  </nav>

  <div class="navRight">
    <div class="pill" id="soundBtn" role="button" tabindex="0" aria-label="Toggle nature sound">
      <span class="dot"></span>
      <span id="soundTxt">Sound: Off</span>
    </div>
    <div class="pill" aria-hidden="true">
      <span class="dot"></span>
      <span>Drag • Scroll • Snap</span>
    </div>
    <a class="pill" href="https://wa.me/447483849357" target="_blank" rel="noopener">
      <span class="dot"></span>
      <span>WhatsApp</span>
    </a>
  </div>
</header>

<main class="wrap" id="packs">

  <!-- LEFT PANEL -->
  <section class="panel" aria-label="Pack selector">
    <div class="heroInner">
      <div class="badge" id="how">
        <span class="mini" aria-hidden="true"></span>
        <span><b style="color:rgba(245,255,246,.92)">Nature Mode</b> • packs reveal on hover/tap • preview loads image → video</span>
      </div>

      <h1>
        Snack Packs — but <span class="accent">rewarding</span>.
      </h1>

      <p class="sub">
        Spin the core to discover packs. Fast selection: drag the orb or scroll to flick. Click snaps instantly.
        Desktop: hover a pack to preview. Mobile: tap once to preview, tap again to enter.
      </p>

      <div class="ctaRow" id="order">
        <a class="btn primary" href="#packs">
          <span style="width:8px;height:8px;border-radius:999px;background:rgba(245,255,246,.95);box-shadow:0 0 0 4px rgba(121,255,180,.12)"></span>
          Reveal packs
        </a>
        <a class="btn" href="https://wa.me/447483849357" target="_blank" rel="noopener">
          <span style="width:8px;height:8px;border-radius:999px;background:rgba(245,255,246,.95);box-shadow:0 0 0 4px rgba(122,215,255,.12)"></span>
          Order on WhatsApp
        </a>
      </div>

      <!-- Orb stage -->
      <div class="orbStage" id="orbStage">
        <div class="hint" id="hint">
          <i aria-hidden="true"></i>
          <span>Hover/tap the core to reveal packs</span>
        </div>

        <div class="orb3d" id="orbCore" aria-label="Core orb"></div>
        <div class="ringGuide" aria-hidden="true"></div>
        <div class="packs" id="packsLayer"></div>
      </div>

      <div class="stats">
        <div class="stat">
          <b>500+</b>
          <span>Packs delivered. Clean builds, no mess.</span>
        </div>
        <div class="stat">
          <b>240+</b>
          <span>People found their go-to pack.</span>
        </div>
        <div class="stat">
          <b>98%</b>
          <span>Repeat order rate. Consistency hits.</span>
        </div>
      </div>
    </div>
  </section>

  <!-- RIGHT PANEL -->
  <aside class="side" aria-label="Pack preview">
    <div class="sideHead">
      <div>
        <h2 id="pName">GYM</h2>
        <p id="pLine">High focus. Clean fuel. No distractions.</p>
      </div>
      <button class="enterBtn" id="enterBtn" disabled>
        <span class="dot" aria-hidden="true"></span>
        Enter
      </button>
    </div>

    <div class="media" id="mediaBox">
      <img id="previewImg" alt="Pack preview image" src="./assets/gym.jpg">
      <video id="previewVid" playsinline muted loop preload="metadata"></video>
      <div class="mediaBadge" id="mediaBadge">
        <span class="mini" aria-hidden="true"></span>
        <span id="mediaStatus">Preview ready</span>
      </div>
    </div>

    <div class="sideFoot" id="sideFoot">
      Mobile: tap a pack once to preview. Tap it again (or hit Enter) to open.
      Desktop: hover to preview, click to snap, then Enter.
    </div>
  </aside>

</main>

<div class="bottomHint">
  <div>Tip: fling the orb (drag fast) for momentum. Scroll wheel flicks instantly.</div>
  <div>Preview = image first, then video fades in once ready.</div>
</div>

<!-- Optional real ambient audio file (if you add it later):
     put ./assets/forest.mp3 and it will auto-use it when sound is enabled -->
<audio id="forestAudio" loop preload="auto">
  <source src="./assets/forest.mp3" type="audio/mpeg">
</audio>

<script>
(() => {
  /* ====== PACK DATA (keeps YOUR existing subpages + assets) ====== */
  const PACKS = [
    { key:"gym",     name:"GYM",     tag:"FOCUS",  line:"High focus. Clean fuel. No distractions.", img:"./assets/gym.jpg",     vid:"./assets/gym.mp4",     href:"./gym.html" },
    { key:"lockin",  name:"LOCK-IN", tag:"GRIND",  line:"Tunnel vision mode. Phone down. Get it done.", img:"./assets/lockin.jpg",  vid:"./assets/lockin.mp4",  href:"./lock-in.html" },
    { key:"work",    name:"WORK",    tag:"DAY",    line:"Clean energy. Smooth day. No crash.", img:"./assets/work.jpg",    vid:"./assets/work.mp4",    href:"./work.html" },
    { key:"gaming",  name:"GAMING",  tag:"NIGHT",  line:"Locked in. Fast hands. Zero tilt.", img:"./assets/gaming.jpg",  vid:"./assets/gaming.mp4",  href:"./gaming.html" },
    { key:"mystery", name:"MYSTERY", tag:"DROP",   line:"New flavour, new mood. Roll the dice.", img:"./assets/mystery.jpg", vid:"./assets/mystery.mp4", href:"./mystery.html" },
    { key:"fresh",   name:"FRESH",   tag:"CLEAN",  line:"Light, clean, refreshing. Reset the day.", img:"./assets/fresh.jpg",   vid:"./assets/fresh.mp4",   href:"./fresh.html" },
  ];

  const isCoarse = matchMedia("(pointer: coarse)").matches;

  /* ====== FOREST BACKGROUND: play video (muted allowed) ====== */
  const forestVid = document.getElementById("forestVid");
  forestVid.play().catch(()=>{ /* ok */ });

  /* ====== “REAL” DUST/POLLEN CANVAS ====== */
  const canvas = document.getElementById("dust");
  const ctx = canvas.getContext("2d", { alpha:true });
  let W=0,H=0, DPR=1;
  const motes = [];
  const MOTE_COUNT = 120;

  function resizeDust(){
    DPR = Math.max(1, Math.min(2, devicePixelRatio || 1));
    W = canvas.width = Math.floor(innerWidth * DPR);
    H = canvas.height = Math.floor(innerHeight * DPR);
    canvas.style.width = innerWidth + "px";
    canvas.style.height = innerHeight + "px";
    motes.length = 0;
    for(let i=0;i<MOTE_COUNT;i++){
      motes.push({
        x: Math.random()*W,
        y: Math.random()*H,
        r: (0.7 + Math.random()*1.9) * DPR,
        vx: (0.08 + Math.random()*0.22) * DPR,
        vy: (0.02 + Math.random()*0.10) * DPR,
        a: 0.10 + Math.random()*0.22,
        tw: 0.6 + Math.random()*1.6,
        ph: Math.random()*Math.PI*2
      });
    }
  }
  addEventListener("resize", resizeDust, {passive:true});
  resizeDust();

  let t0 = performance.now();
  function tickDust(t){
    const dt = Math.min(32, t - t0); t0 = t;
    ctx.clearRect(0,0,W,H);
    ctx.globalCompositeOperation = "screen";

    for(const m of motes){
      m.ph += dt*0.001*m.tw;
      m.x += m.vx * dt;
      m.y += m.vy * dt + Math.sin(m.ph)*0.10*DPR;

      if(m.x > W + 40*DPR) m.x = -40*DPR;
      if(m.y > H + 60*DPR) m.y = -60*DPR;

      const glow = 10*DPR;
      const g = ctx.createRadialGradient(m.x,m.y,0,m.x,m.y, glow);
      g.addColorStop(0, `rgba(255,255,255,${m.a})`);
      g.addColorStop(1, `rgba(255,255,255,0)`);
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(m.x,m.y, glow, 0, Math.PI*2);
      ctx.fill();

      ctx.fillStyle = `rgba(255,255,255,${m.a*0.75})`;
      ctx.beginPath();
      ctx.arc(m.x,m.y, m.r, 0, Math.PI*2);
      ctx.fill();
    }

    ctx.globalCompositeOperation = "source-over";
    requestAnimationFrame(tickDust);
  }
  requestAnimationFrame(tickDust);

  /* ====== NATURE SOUND: real audio if present, otherwise clean procedural ambience ====== */
  const soundBtn = document.getElementById("soundBtn");
  const soundTxt = document.getElementById("soundTxt");
  const forestAudio = document.getElementById("forestAudio");

  let audioOn = false;
  let ac=null, wind=null, windGain=null, birdGain=null, master=null;
  function makeNoiseBuffer(ctx){
    const len = ctx.sampleRate * 2;
    const buf = ctx.createBuffer(1, len, ctx.sampleRate);
    const d = buf.getChannelData(0);
    for(let i=0;i<len;i++){
      d[i] = (Math.random()*2-1) * 0.7;
    }
    return buf;
  }
  function startProcedural(){
    if(ac) return;
    ac = new (window.AudioContext || window.webkitAudioContext)();
    master = ac.createGain(); master.gain.value = 0.22;
    master.connect(ac.destination);

    // wind = filtered noise
    const src = ac.createBufferSource();
    src.buffer = makeNoiseBuffer(ac);
    src.loop = true;

    const bp = ac.createBiquadFilter();
    bp.type = "bandpass";
    bp.frequency.value = 320;
    bp.Q.value = 0.6;

    const lp = ac.createBiquadFilter();
    lp.type = "lowpass";
    lp.frequency.value = 950;

    windGain = ac.createGain();
    windGain.gain.value = 0.20;

    src.connect(bp); bp.connect(lp); lp.connect(windGain); windGain.connect(master);
    src.start();

    // subtle bird chirps (very soft, occasional)
    birdGain = ac.createGain();
    birdGain.gain.value = 0.10;
    birdGain.connect(master);

    function chirp(){
      if(!audioOn || !ac) return;
      const now = ac.currentTime;
      const o = ac.createOscillator();
      const g = ac.createGain();
      o.type = "sine";
      const base = 900 + Math.random()*900;
      o.frequency.setValueAtTime(base, now);
      o.frequency.exponentialRampToValueAtTime(base*1.6, now+0.08);
      o.frequency.exponentialRampToValueAtTime(base*0.9, now+0.18);
      g.gain.setValueAtTime(0.0001, now);
      g.gain.exponentialRampToValueAtTime(0.12, now+0.02);
      g.gain.exponentialRampToValueAtTime(0.0001, now+0.22);
      o.connect(g); g.connect(birdGain);
      o.start(now);
      o.stop(now+0.24);

      // random next
      setTimeout(chirp, 1400 + Math.random()*4200);
    }
    setTimeout(chirp, 1600 + Math.random()*2800);

    // gentle wind modulation
    function mod(){
      if(!audioOn || !ac) return;
      const now = ac.currentTime;
      const f = 240 + Math.random()*240;
      const g = 0.12 + Math.random()*0.18;
      windGain.gain.cancelScheduledValues(now);
      windGain.gain.linearRampToValueAtTime(g, now+0.8);
      setTimeout(mod, 900 + Math.random()*1600);
    }
    setTimeout(mod, 900);
  }

  async function toggleSound(){
    audioOn = !audioOn;
    if(audioOn){
      soundTxt.textContent = "Sound: On";
      // must be user gesture anyway, so safe:
      // try real audio file first
      const playReal = async () => {
        try{
          forestAudio.volume = 0.55;
          await forestAudio.play();
          return true;
        }catch(e){
          return false;
        }
      };

      const ok = await playReal();
      if(!ok){
        try{
          startProcedural();
          await ac.resume();
        }catch(e){ /* ok */ }
      }
    }else{
      soundTxt.textContent = "Sound: Off";
      try{ forestAudio.pause(); forestAudio.currentTime = 0; }catch(e){}
      if(ac){
        try{ master.gain.setValueAtTime(0.0001, ac.currentTime); }catch(e){}
      }
    }
  }

  soundBtn.addEventListener("click", toggleSound);
  soundBtn.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); toggleSound(); } });

  /* ====== PACK SELECTOR: FAST DRAG + WHEEL + SNAP ====== */
  const orbStage = document.getElementById("orbStage");
  const packsLayer = document.getElementById("packsLayer");
  const hint = document.getElementById("hint");

  const pName = document.getElementById("pName");
  const pLine = document.getElementById("pLine");
  const enterBtn = document.getElementById("enterBtn");
  const mediaBox = document.getElementById("mediaBox");
  const previewImg = document.getElementById("previewImg");
  const previewVid = document.getElementById("previewVid");
  const mediaStatus = document.getElementById("mediaStatus");

  let revealed = false;
  let angle = 0;       // radians
  let vel = 0;         // radians/frame-ish
  let dragging = false;
  let lastX = 0;
  let lastT = 0;
  let selected = 0;
  let lastTapIndex = -1;
  let lastTapTime = 0;

  // Build pack buttons
  const el = [];
  PACKS.forEach((p, i) => {
    const d = document.createElement("div");
    d.className = "pack";
    d.setAttribute("role","button");
    d.setAttribute("tabindex","0");
    d.dataset.i = String(i);
    d.innerHTML = `
      <div class="cap" aria-hidden="true"></div>
      <div class="txt">
        <b>${p.name}</b>
        <span>${p.line}</span>
      </div>
      <div class="tag">${p.tag}</div>
    `;
    packsLayer.appendChild(d);
    el.push(d);

    const activate = () => pick(i, {snap:true, fromClick:true});
    d.addEventListener("mouseenter", ()=> { if(!isCoarse) preview(i); });
    d.addEventListener("focus", ()=> preview(i));
    d.addEventListener("click", (ev) => { ev.preventDefault(); activate(); });
    d.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); activate(); }});
  });

  function reveal(){
    if(revealed) return;
    revealed = true;
    hint.style.display = "none";
    // subtle intro ease-in
    vel += 0.012;
  }

  // Reveal on hover / tap core area
  orbStage.addEventListener("mouseenter", ()=> { if(!isCoarse) reveal(); });
  orbStage.addEventListener("touchstart", ()=> { reveal(); }, {passive:true});

  // Wheel scroll flick
  orbStage.addEventListener("wheel", (e)=>{
    e.preventDefault();
    reveal();
    const delta = Math.sign(e.deltaY) * Math.min(0.14, Math.abs(e.deltaY) / 1200);
    vel += delta * 0.75;
  }, {passive:false});

  // Pointer drag
  orbStage.addEventListener("pointerdown", (e)=>{
    reveal();
    dragging = true;
    orbStage.setPointerCapture(e.pointerId);
    lastX = e.clientX;
    lastT = performance.now();
  });
  orbStage.addEventListener("pointermove", (e)=>{
    if(!dragging) return;
    const now = performance.now();
    const dx = (e.clientX - lastX);
    angle += dx * 0.008;            // SPEED
    const dt = Math.max(1, now - lastT);
    vel = (dx / dt) * 0.14;         // momentum
    lastX = e.clientX;
    lastT = now;
  });
  const endDrag = ()=>{
    if(!dragging) return;
    dragging = false;
    // snap after short inertia
    setTimeout(()=> snapToNearest(), 140);
  };
  orbStage.addEventListener("pointerup", endDrag);
  orbStage.addEventListener("pointercancel", endDrag);
  orbStage.addEventListener("lostpointercapture", endDrag);

  function normalize(a){
    const TAU = Math.PI*2;
    a = a % TAU;
    if(a < -Math.PI) a += TAU;
    if(a >  Math.PI) a -= TAU;
    return a;
  }

  function nearestIndex(){
    // We place packs around ring. “front” is at angle = 0.
    // Each pack has base angle = i*(TAU/N).
    const N = PACKS.length;
    const TAU = Math.PI*2;
    let best = 0;
    let bestScore = -1e9;
    for(let i=0;i<N;i++){
      const base = i * (TAU/N);
      const a = normalize(base + angle);
      // score = closeness to front (0), prefer front/top slightly
      const score = Math.cos(a); // 1 at front, -1 at back
      if(score > bestScore){
        bestScore = score;
        best = i;
      }
    }
    return best;
  }

  function snapToNearest(){
    const N = PACKS.length;
    const TAU = Math.PI*2;
    const i = nearestIndex();
    const base = i * (TAU/N);
    // We want base + angle = 0  => angle = -base
    const target = -base;
    // smooth snap
    const diff = normalize(target - angle);
    angle += diff * 0.45;
    vel *= 0.35;
    pick(i, {snap:false});
  }

  function pick(i, {snap=true, fromClick=false}={}){
    selected = i;
    if(snap){
      const N = PACKS.length, TAU = Math.PI*2;
      const base = i * (TAU/N);
      angle = -base;     // instant snap
      vel = 0;
    }
    // UI selected state
    el.forEach((n, idx)=> n.classList.toggle("selected", idx===i));
    preview(i);

    // Mobile: 1st tap = preview, 2nd tap = open
    if(isCoarse && fromClick){
      const now = Date.now();
      if(lastTapIndex === i && (now - lastTapTime) < 900){
        location.href = PACKS[i].href;
      }else{
        lastTapIndex = i; lastTapTime = now;
      }
    }
  }

  let videoToken = 0;
  function preview(i){
    const p = PACKS[i];
    pName.textContent = p.name;
    pLine.textContent = p.line;
    enterBtn.disabled = false;

    // Image instantly
    mediaBox.classList.remove("ready");
    previewImg.src = p.img;
    mediaStatus.textContent = "Loading video…";

    // Video fades in when ready
    const tok = ++videoToken;
    previewVid.pause();
    previewVid.removeAttribute("src");
    previewVid.load();

    // set src then wait for canplay
    previewVid.src = p.vid;
    previewVid.load();

    const onReady = () => {
      if(tok !== videoToken) return;
      mediaBox.classList.add("ready");
      mediaStatus.textContent = "Video ready";
      previewVid.play().catch(()=>{});
      previewVid.removeEventListener("canplay", onReady);
      previewVid.removeEventListener("canplaythrough", onReady);
    };
    previewVid.addEventListener("canplay", onReady);
    previewVid.addEventListener("canplaythrough", onReady);

    // fallback if canplay never fires quickly
    setTimeout(()=>{
      if(tok !== videoToken) return;
      // if metadata loaded, still allow display after slight delay
      if(previewVid.readyState >= 2){
        onReady();
      }else{
        mediaStatus.textContent = "Preview ready";
      }
    }, 900);
  }

  enterBtn.addEventListener("click", ()=>{
    location.href = PACKS[selected].href;
  });

  // initial
  pick(0, {snap:true});
  reveal();

  /* ====== Render loop: true 3D feel by scaling + z + opacity ====== */
  function render(){
    // inertia
    if(!dragging){
      angle += vel;
      vel *= 0.94;
      if(Math.abs(vel) < 0.0006) vel = 0;
    }

    const N = PACKS.length;
    const TAU = Math.PI*2;

    // center
    const rect = orbStage.getBoundingClientRect();
    const cx = rect.width/2;
    const cy = rect.height/2;

    // ring radius changes with viewport (keeps mobile stable)
    const ringR = Math.min(rect.width, rect.height) * 0.39;

    let best = 0;
    let bestScore = -1e9;

    for(let i=0;i<N;i++){
      const base = i*(TAU/N);
      const a = base + angle; // current position
      // x/y orbit
      const x = cx + Math.sin(a) * ringR;
      const y = cy + Math.cos(a) * ringR * 0.72;

      // depth: front = cos(a) near 1
      const depth = (Math.cos(a) + 1) / 2; // 0..1
      const scale = 0.78 + depth*0.32;
      const opacity = 0.22 + depth*0.78;
      const blur = (1-depth)*2.2;

      // slight tilt to feel 3D
      const tilt = (Math.sin(a))*10;

      const node = el[i];
      node.style.opacity = opacity.toFixed(3);
      node.style.filter = `blur(${blur.toFixed(2)}px) saturate(${(0.96+depth*0.18).toFixed(2)})`;
      node.style.transform =
        `translate(-50%,-50%) translate(${(x-cx).toFixed(2)}px, ${(y-cy).toFixed(2)}px) ` +
        `scale(${scale.toFixed(3)}) rotate(${tilt.toFixed(2)}deg)`;

      const score = Math.cos(a);
      if(score > bestScore){
        bestScore = score;
        best = i;
      }
    }

    // auto-highlight nearest as you spin
    if(best !== selected && (dragging || Math.abs(vel) > 0.004)){
      el[selected].classList.remove("selected");
      selected = best;
      el[selected].classList.add("selected");
      if(!isCoarse) preview(selected);
    }

    requestAnimationFrame(render);
  }
  requestAnimationFrame(render);

})();
</script>
</body>
</html>
